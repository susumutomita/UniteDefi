# 1inch Fusion+ 技術分析レポート

## 概要

1inch Fusion+は従来のアトミックスワップを改良したインテントベースのクロスチェインスワッププロトコルです。
Dutch Auction（ダッチオークション）とプロフェッショナルなResolver（リゾルバー）システムを組み合わせています。

## 核心的イノベーション

### 1. インテントベースアプローチ

- Maker（ユーザー）: 注文に署名するだけで、その後は受動的
- Resolver（リゾルバー）: KYC済みの専門的なトレーダー/マーケットメーカー
- Relayer（リレイヤー）: 1inchサービスがMakerとResolverを調整

### 2. Dutch Auction メカニズム

```bash
価格 = 開始価格 - (時間経過 × 減少率)
```

- 時間とともに価格が下がり、リゾルバーにとって利益が出る時点で約定
- 価格発見: 複数のリゾルバーが競争
- 部分約定: 大口注文を複数のリゾルバーが分割実行

### 3. 4フェーズプロセス

#### Phase 1: アナウンス

1. MakerがFusion+注文とシークレットハッシュに署名
2. RelayerがすべてのResolverに注文を共有、Dutch Auction開始

#### Phase 2: デポジット

3. Resolverがソースチェインのエスクローに預金
4. Resolverがデスティネーションチェインのエスクローに預金

#### Phase 3: 引き出し

5. Relayerが両方のエスクロー作成を確認後、シークレットを開示
6. Resolverがシークレットを使ってソースチェインから引き出し
7. Resolverが同じシークレットでデスティネーションチェインから引き出し

#### Phase 4: リカバリー（オプション）

8-9. タイムアウト時の資金返却処理。

## 高度な技術要素

### 部分約定とMerkle Tree

- N+1シークレット: 注文をN個に分割し、各部分に対応するシークレット
- Merkle Tree: シークレットを効率的に管理
- 段階的実行: 25、50、75、100の段階的約定

### 複数Timelockシステム

- Finality Lock: チェインリオーガナイゼーション対策
- Exclusive Period: 実行リゾルバーの優先期間
- Cancellation Period: 失敗時の資金回収期間

### Safety Deposit

- リゾルバーが追加担保を預金
- 取引完了/キャンセル実行者が報酬として受領
- インセンティブメカニズム

## 従来のAtomic Swapとの違い

| 項目 | 従来のAtomic Swap | 1inch Fusion+ |
|------|------------------|---------------|
| UX | 両当事者が能動的参加 | Makerは署名のみ |
| 価格発見 | 事前合意 | Dutch Auction |
| 実行者 | P2P | プロフェッショナルResolver |
| 部分約定 | 不可 | 可能 |
| ガス最適化 | なし | 動的価格調整 |
| 信頼性 | 技術的信頼のみ | KYC済みResolver |
