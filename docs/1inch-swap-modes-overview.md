# 1inch スワップモード完全ガイド

## 📋 1inch の4つのスワップモード

1inchは異なるユースケースに対応する4つのスワップモードを提供しています。

### 1. Classic Swap（クラシックスワップ）
### 2. Limit Order（リミットオーダー）
### 3. Fusion（フュージョン）
### 4. Fusion+（フュージョンプラス）

---

## 1️⃣ Classic Swap（従来型DEXアグリゲーション）

### 概要

1inchの最も基本的なモード。複数のDEXから最良レートを見つけて実行します。

### 仕組み

```text
ユーザー → 1inch Router → 複数のDEX → 最良レートで実行
```

### 特徴

- 即座に実行: オンチェインで即座にスワップ
- ガス代必要: ユーザーがガス代を支払う
- 経路最適化: Uniswap、SushiSwap、Curveなど複数のDEXを組み合わせ
- スリッページ保護: 最大スリッページを設定可能

### 使用例

```text
「今すぐ1 ETHをUSDCに交換したい」
→ 1inchが最良レートのDEXを見つけて実行
→ ユーザーがガス代を支払って完了
```

---

## 2️⃣ Limit Order（リミットオーダー）

### 概要

指定価格での取引を設定し、条件が満たされたときに実行されます。

### 仕組み

```text
ユーザーが注文を設定 → オフチェーンで管理 → 条件達成時に実行
```

### 特徴

- ガスレス注文: 注文作成時にガス代不要
- 有効期限設定: 注文の有効期限を指定可能
- 部分約定: 大口注文の分割実行可能
- キャンセル可能: いつでも無料でキャンセル

### 使用例

```text
「ETHが1,500 USDCになったら売りたい」
→ リミットオーダーを設定
→ 価格到達時に自動実行
```

---

## 3️⃣ Fusion（インテントベーススワップ）

### 概要

ユーザーは「意図」を宣言するだけ。実行はプロのリゾルバーが競争的に行います。

### 仕組み

```text
ユーザー（署名のみ）→ Dutch Auction → リゾルバーが競争 → 最良レートで実行
```

### 特徴

- 完全ガスレス: ユーザーはガス代ゼロ
- MEV保護: フロントランニング対策
- 価格改善: 時間とともに価格が改善
- プロによる実行: KYC済みリゾルバーが実行

### Dutch Auctionの仕組み

```text
開始: 1 ETH = 1,500 USDC（ユーザーに有利）
  ↓ 時間経過
  ↓ 価格が徐々に下がる
終了: 1 ETH = 1,480 USDC（リゾルバーに有利）
```

### 使用例

```text
「1 ETHをUSDCに交換したい（ガス代は払いたくない）」
→ Fusion注文に署名
→ リゾルバーが競争して最良価格で実行
→ ユーザーはガス代ゼロで完了
```

---

## 4️⃣ Fusion+（クロスチェインスワップ）

### 概要

異なるブロックチェイン間でのアトミックスワップ。Fusionの仕組みをクロスチェインに拡張。

### 仕組み

```text
チェーンA（ETH）→ HTLC → リゾルバー → HTLC → チェーンB（NEAR）
```

### 特徴

- クロスチェイン: 異なるチェイン間で直接スワップ
- アトミック性: 全部成功か全部失敗
- ガスレス: ソースチェインでユーザーはガス代不要
- 安全性: HTLCで資金がロックされる

### 実行フロー

1. ユーザーがクロスチェイン注文に署名
2. リゾルバーが両チェインにエスクローを作成
3. シークレット公開で原子的に交換
4. タイムアウト時は自動返金

### 使用例

```text
「EthereumのETHをNEARチェーンのNEARに交換したい」
→ Fusion+注文に署名
→ リゾルバーが両チェーンで実行
→ アトミックスワップ完了
```

---

## 🔄 モード比較表

| 特徴 | Classic | Limit Order | Fusion | Fusion+ |
|------|---------|-------------|--------|----------|
| 実行タイミング | 即座 | 条件達成時 | Dutch Auction | Dutch Auction |
| ガス代 | ユーザー負担 | 実行者負担 | リゾルバー負担 | リゾルバー負担 |
| クロスチェイン | ❌ | ❌ | ❌ | ✅ |
| MEV保護 | 限定的 | ✅ | ✅ | ✅ |
| 価格改善 | 経路最適化 | 指定価格 | 競争による | 競争による |
| 複雑さ | 低 | 中 | 中 | 高 |

---

## 🎯 どのモードを使うべきか

### Classic Swap

- 今すぐスワップしたい
- シンプルな取引を好む
- ガス代を払ってもよい

### Limit Order

- 特定の価格で取引したい
- 時間的余裕がある
- 大口取引を分割したい

### Fusion

- ガス代を節約したい
- MEV保護が必要
- 最良価格を自動的に得たい

### Fusion+

- 異なるチェイン間で取引したい
- ブリッジを使いたくない
- 安全なクロスチェイン取引を求める

---

## まとめ

1inchは単なるDEXアグリゲーターから、包括的な取引プラットフォームへと進化しました。各モードは異なるニーズに対応し、ユーザーに最適な取引体験を提供します。

ハッカソンでは、この中でも最も革新的なFusion+を非EVMチェインに拡張することが求められています。
